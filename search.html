---
title: Search results
toc: false
contribute: false
---
<script>

  const query = decodeURIComponent(window.location.search.replace('^\?q=', '')).replace(/[^a-zA-Z0-9 ]+/g, ' ').trim();

  document.title = `Search - ${query}`;
  $('#search-input').val(query);

  var client = algoliasearch('---', '---');
  var index = client.initIndex('flowcrypt');

  var searchConfig = { query, hitsPerPage: 10 };

  index.search(searchConfig, searchDone((err, data) => {
    var div = $('<div/>');

    if (!err && data.hits.length) {
      data.hits.forEach(function (hit) {
        if (hit._highlightResult.content.value.length > 450) {
          hit._highlightResult.content.value = hit._highlightResult.content.value.slice(0, 450) + '...'
        }
        var h = $('<div/>', { class: 'search-title' });
        h.append($('<a/>', { href: hit.url }).html(hit.hierarchy.lvl0));
        var r = $('<div/>', { class: 'search-item' });
        r.append(h);
        r.append($('<div/>', { class: 'search-link' }).html(hit.url));
        r.append($('<div/>', { class: 'search-snippet' }).html(hit._highlightResult.content.value));
        div.append(r);
      });
    } else {
      div.append($('<p>No results.</p>'));
    }
    $('.post-content').html(div);
    $('.post-content').append('<img class="search-by-algolia" src="{{ 'images / algolia.svg' | relative_url }}" />');
  });
</script>